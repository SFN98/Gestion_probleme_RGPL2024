<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Soumettre un Probl√®me</title>
  <link rel="stylesheet" href="css/submit.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>üé´ Soumettre un Probl√®me Terrain</h1>
      <!-- <div>
        <a href="dashboard.html" class="nav-btn">üìä Acc√©der au Dashboard</a>
      </div> -->
    </header>

      <!-- Loading Screen -->
      <div id="loading-screen">
        <div class="loading-content">
          <div class="loading-logo">üé´</div>
          <div class="loading-title">Plateforme de Gestion</div>
          <div class="loading-subtitle">Chargement des donn√©es terrain...</div>
          <div class="spinner"></div>
          <div class="loading-progress">
            <div>Initialisation en cours</div>
            <div class="progress-bar">
              <div class="progress-fill"></div>
            </div>
          </div>
        </div>
      </div>
    <main class="layout">
      <!-- Left column: Submit form -->
      <div>
        <div class="card">
          <h2>Nouveau Probl√®me</h2>
          <p class="small">Formulaire mobile-friendly ‚Äî la province est d√©tect√©e automatiquement depuis le login.</p>

          <div id="success-message" class="success-msg">
            ‚úÖ Probl√®me soumis avec succ√®s !
          </div>

          <div style="margin-top:12px">
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
              <div>
                <label>Nom du soumetteur *</label>
                <input type="text" id="reporter-name" placeholder="Ex: Jean Mvogo" required>
              </div>
              <div>
                <label>Login *</label>
                <input type="text" id="reporter-login" placeholder="Ex: 2XA123" required>
                <div class="small muted">Ex: 2XA, 2AA, 5CAABA ‚Äî la province sera d√©tect√©e</div>
              </div>
              <div>
                <label>T√©l√©phone *</label>
                <input type="tel" id="reporter-phone" placeholder="+241 06 00 00 00" required>
              </div>
              <div>
                <label>Type de probl√®me *</label>
                <select id="problem-type">
                  <option>Non acc√®s aux questionnaires</option>
                  <option>Non acc√®s √† l'application</option>
                  <option>Non visibilit√© du personnel</option>
                  <option>Non acc√®s aux zones de travail</option>
                  <option>Non acc√®s aux outils de contr√¥le</option>
                  <option>Non acc√®s √† la synchronisation des donn√©es</option>
                  <option>Non acc√®s √† la synchronisation des param√®tres</option>
                </select>
              </div>
              <div>
                <label>Titre du probl√®me *</label>
                <input type="text" id="problem-title" placeholder="Ex: Probl√®me de synchronisation" required>
              </div>
            </div>

            <div style="margin-top:10px">
              <label>Description d√©taill√©e *</label>
              <textarea id="problem-desc" placeholder="D√©crivez les conditions dans lesquelles le probl√®me est survenu..." required></textarea>
            </div>

            <div style="margin-top:10px">
              <label>Images (jpg/png) ‚Äî max 5MB par image</label>
              <input id="images-input" type="file" accept="image/*" multiple>
              <div class="images-preview" id="images-preview"></div>
            </div>

            <div style="display:flex;align-items:center;justify-content:space-between;margin-top:12px;flex-wrap:wrap;gap:12px">
              <div class="small muted">
                <strong>Province d√©tect√©e :</strong> <span id="detected-province" style="color:var(--blue);font-weight:600">‚Äî</span>
              </div>
              <div style="display:flex;gap:8px">
                <button class="btn ghost" id="btn-reset">Annuler</button>
                <button class="btn primary" id="btn-submit">Soumettre le probl√®me</button>
              </div>
            </div>
          </div>
        </div>

        <div style="height:16px"></div>

        <div class="card">
          <h3>üìã Probl√®mes d√©j√† d√©clar√©s dans votre province</h3>
          <p class="small muted">V√©rifiez si un ticket similaire existe d√©j√† avant de cr√©er un nouveau.</p>
          <div id="similar-list" style="margin-top:10px"></div>
        </div>
      </div>

      <!-- Right column: Info & FAQ -->
      <aside>
        <div class="card">
          <h3>‚ÑπÔ∏è Informations</h3>
          <div style="margin-top:10px">
            <p class="small muted">Tous les champs marqu√©s d'un ast√©risque (*) sont obligatoires.</p>
            <p class="small muted" style="margin-top:8px">Les notifications seront envoy√©es automatiquement √† l'√©quipe technique.</p>
          </div>
<!-- 
          <div style="margin-top:14px">
            <h4 class="small muted" style="font-weight:600">Niveaux de Priorit√©</h4>
            <ul class="small" style="margin-top:8px;padding-left:18px">
              <li style="margin-bottom:6px">Non acc√®s aux questionnaires ‚Äî <span class="badge p1">P1</span></li>
              <li style="margin-bottom:6px">Non acc√®s √† l'application ‚Äî <span class="badge p1">P1</span></li>
              <li style="margin-bottom:6px">Non visibilit√© du personnel ‚Äî <span class="badge p2">P2</span></li>
              <li style="margin-bottom:6px">Non acc√®s aux zones de travail ‚Äî <span class="badge p2">P2</span></li>
              <li style="margin-bottom:6px">Non acc√®s aux outils de contr√¥le ‚Äî <span class="badge p3">P3</span></li>
              <li style="margin-bottom:6px">Non acc√®s √† la synchro des donn√©es/param√®tres ‚Äî <span class="badge p1">P1</span></li>
            </ul>
          </div> -->
        </div>

        <div style="height:12px"></div>

        <div class="card">
          <h3>üí° FAQ - Solutions Rapides</h3>
          <div id="faq-section" style="margin-top:8px">
            <!-- FAQ items will be loaded dynamically -->
          </div>
        </div>
      </aside>
    </main>
  </div>
  <script src="js/submit.js"></script>
</body>
</html>